const feedbackForm=document.forms.feedback,subject=document.getElementById('feedback-subject'),feedbackInput=document.getElementById('feedback-text'),submitFeedButton=document.getElementById('feedback-btn');feedbackForm.addEventListener('submit',a=>{a.preventDefault();let b=subject.options[subject.selectedIndex].value,c=feedbackInput.value;const d=checkFeedbackInput(c);d?postFeedback({subjectChosen:b,feedbackInputValue:c}):console.log(d)});function checkFeedbackInput(a){return a.replace(/\s/g,'').length?250>=a.length&&10<=a.length||($('#feedback-text').addClass('invalid'),$('#feedback-text-label').attr('data-error','Have atleast 10 characters and less then 250.'),!1):($('#feedback-text').addClass('invalid'),$('#feedback-text-label').attr('data-error','White space only not allowed.'),!1)}async function postFeedback(a){submitFeedButton.classList.add('disabled');try{const b=await fetch('/contact',{headers:new Headers({'Content-Type':'application/json'}),method:'post',credentials:'same-origin',body:JSON.stringify(a)}),c=await b.json();200===b.status?(Materialize.toast(c.message,3e3),setTimeout(()=>{location.href='/'},3500)):Materialize.toast('Something went wrong, please try again later.',3e3)}catch(b){Materialize.toast('Something went wrong, please try again later.',3e3)}}