const password=document.getElementById('password'),confirmpass=document.getElementById('confirmpass'),confirmpassMsg=document.getElementById('confirmpass-msg'),activateAccountForm=document.getElementById('form-activate-account'),loading=document.getElementById('loading-container'),submitBtn=document.getElementById('submit-btn');activateAccountForm.addEventListener('submit',async function(a){a.preventDefault(),submitBtn.classList.add('disabled'),loading.classList.add('active'),confirmpassMsg.attributes[2].nodeValue='',confirmpass.className='validate';const b=password.value,c=confirmpass.value;try{const d=await fetch(location.pathname,{headers:new Headers({'Content-Type':'application/json; charset=utf-8'}),method:'post',body:JSON.stringify({password:b,confirmpass:c})}),f=await d.json();f&&(f.success?(confirmpass.className='validate valid',Materialize.toast('Successfully activated account, redirecting to login...',3e3),setTimeout(()=>{location.href='/login'},3e3)):(submitBtn.classList.remove('disabled'),loading.classList.remove('active'),confirmpassMsg.attributes[2].nodeValue='Make sure new password match',confirmpass.className='validate invalid'))}catch(d){console.log(d)}});